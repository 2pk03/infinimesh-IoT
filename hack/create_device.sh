#!/bin/bash

grpcurl -d '{
  "device": {
    "id": "testdevice4",
    "certificate": {
      "pem_data": "-----BEGIN CERTIFICATE-----\nMIIDxzCCAq+gAwIBAgIUSQ5nH2Cgw2Q3lKyQau12bOGzV8YwDQYJKoZIhvcNAQEL\nBQAwczELMAkGA1UEBhMCREUxEzARBgNVBAgMClNvbWUtU3RhdGUxITAfBgNVBAoM\nGEludGVybmV0IFdpZGdpdHMgUHR5IEx0ZDEKMAgGA1UEAwwBKjEgMB4GCSqGSIb3\nDQEJARYRam9lQGluZmluaW1lc2guaW8wHhcNMTkwMTEwMjAwMTI1WhcNMjkwMTA3\nMjAwMTI1WjBzMQswCQYDVQQGEwJERTETMBEGA1UECAwKU29tZS1TdGF0ZTEhMB8G\nA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMQowCAYDVQQDDAEqMSAwHgYJ\nKoZIhvcNAQkBFhFqb2VAaW5maW5pbWVzaC5pbzCCASIwDQYJKoZIhvcNAQEBBQAD\nggEPADCCAQoCggEBALq25T2k9R98jWmGXjeFr+iutigtuwI9TQ5CQ1+2Rh9sYpEz\nyZSeHm2/keMmhfuLD9vvqN6kHWWArmqLFGZ7MM28wpsXOxMgK5UClmYb95jYUemK\nQn6opSYCnapvUj6UhuBocpg7m6eLysG0WMQZAo1LC2eMIQGTCBmXuVFakRL+0CFj\naD5d4+VJUKhvMPM5xptyqD2Bk9KXNHgS8uX8Yxxe0tB+p6P60Kgv9+yWCrm2RUV/\nzuSlXX69nUE/VrezSdGnc/tVSIcspiXTpDlKiHLPoYfL83xwMrwg4Y1EUTDzkAku\n98upss+GDalkJaSldy67JJLTs94ZgG5vJTZPJe0CAwEAAaNTMFEwHQYDVR0OBBYE\nFJOEmob6pthnFZq2lZzf38wfQZhpMB8GA1UdIwQYMBaAFJOEmob6pthnFZq2lZzf\n38wfQZhpMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQELBQADggEBAKT6Eien\nI/ngNjd5ZPW1JCLPoWL8nYO4MRICZgbi1d/Kp0478jJWzYYSffH4qustIZFKzzgB\n5Qa0JTKWdpS4dyo1jgaMfuExOvFkdtLtztDNkILBHwgSOeN4q1s2343AMpRqPulB\nhtU0vDyYIvDwRZly/anMgAeNMH2vFee6Z46w1BrO24LWafV3cBMEKTPepHEstpLn\n4t+tODI3XIDLO3Lj8Lcm8FVT+m6pW3iEcRGikRNLjD1UPDZvHHXlO3dGrsuuDCca\np/2Jrz3RlDBNbwOAjzSWGcXfKAhEtp3eXyE7gvegKC1r2iB0Nu/GE/I3B7oxl4hp\npoX4zHWffhe2X+Q=\n-----END CERTIFICATE-----", 
      "algorithm": "testalg"
    }
  }
}'  -plaintext localhost:8080 infinimesh.api.Devices/Create
